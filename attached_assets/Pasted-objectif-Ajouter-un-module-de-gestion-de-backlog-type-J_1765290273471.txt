objectif :
ğŸ‘‰ Ajouter un module de gestion de backlog type Jira, intÃ©grÃ© Ã  PlanBase, avec support Kanban ou Scrum (sprints + rÃ©tros).

1. Concepts fonctionnels

Il existe 3 niveaux de tickets :

Epic

User Story (US)

Task (sous-ticket dâ€™une User Story)

RÃ¨gles :

Une US peut appartenir Ã  une Epic (champ optionnel).

Une US peut avoir autant de Tasks que nÃ©cessaire.

Une US est un ticket principal, une Task est un sous-ticket.

Pour chaque User Story, on doit pouvoir gÃ©rer :

Titre

Description

ComplexitÃ© (ex : T-shirt size ou entier)

PrioritÃ©

Estimate points (points de story)

Collaborateur responsable (owner)

Collaborateur assignÃ©

Rapporteur

Ã‰tat : A_FAIRE, EN_COURS, REVIEW, TERMINE

Date de crÃ©ation

Date dâ€™Ã©chÃ©ance

Sprint (optionnel)

Checklist pour les critÃ¨res dâ€™acceptation (items cochables)

Pour chaque Task :

Titre

Description

Ã‰tat (mÃªme liste que ci-dessus)

Assignee / reporter optionnels

Estimate points optionnel

Dates (crÃ©ation, Ã©chÃ©ance) optionnelles

2. Choix du mode : Kanban vs Scrum

Ã€ lâ€™arrivÃ©e sur le module Backlog, lâ€™utilisateur voit un Ã©cran â€œChoisir le mode de gestionâ€ :

Carte Kanban

Texte : â€œWorkflow + colonnes personnalisablesâ€

Permet de dÃ©finir un board avec des colonnes custom (To Do / In Progress / Review / Done, etc.).

Carte Scrum

Texte : â€œBacklog + Sprints + RÃ©trospectivesâ€

AprÃ¨s avoir choisi un mode, lâ€™utilisateur doit :

soit sÃ©lectionner un projet existant PlanBase,

soit crÃ©er un nouveau projet.

3. Projets & backlog
3.1. EntitÃ© Project

Ajouter une entitÃ© Project (ou Ã©tendre celle existante) avec au minimum :

id

name

description (optionnel)

mode: KANBAN | SCRUM

ownerId (user qui a crÃ©Ã© le projet)

3.2. Backlog (Scrum)

En mode Scrum :

Tous les nouveaux tickets (US) sont crÃ©Ã©s par dÃ©faut dans le Backlog (hors sprint).

Le backlog affiche :

Par Epic, repliable :

Liste des User Stories

Liste des Tasks en dessous de chaque US (repliable).

Fonctions UI :

CrÃ©ation / Ã©dition / suppression dâ€™Epic, US, Task.

Drag & drop :

pour rÃ©ordonner les US dans le backlog,

pour affecter une US Ã  un sprint (voir plus bas).

Inline editing simple pour titre/prioritÃ©/estimate.

4. Sprints (mode Scrum)
4.1. EntitÃ© Sprint

CrÃ©er une table Sprint :

id

projectId

name

startDateTime

endDateTime

status: PREPARATION | EN_COURS | TERMINE

createdAt

RÃ¨gles mÃ©tier :

Un seul sprint EN_COURS par projet.

Par dÃ©faut, les US ont sprintId = null â†’ elles sont dans le backlog.

4.2. FonctionnalitÃ©s

Depuis le backlog :

SÃ©lectionner plusieurs US et les ajouter Ã  un sprint.

Bouton â€œCrÃ©er un sprintâ€ :

Nom

Date + heure de dÃ©but

Date + heure de fin

status initial = PREPARATION

Bouton â€œDÃ©marrer le sprintâ€ :

Change status â†’ EN_COURS.

Si un sprint est EN_COURS, les autres ne peuvent pas Ãªtre dÃ©marrÃ©s (dÃ©sactiver lâ€™action).

Affichage des indicateurs par sprint :

Nombre de tickets embarquÃ©s

Nombre de tickets :

Ã  faire

en cours

terminÃ©s

(option bonus) somme des story points par Ã©tat

4.3. Fin de sprint

Bouton â€œClore le sprintâ€ :

Passe le statut du sprint Ã  TERMINE.

Les US TERMINE restent rattachÃ©es au sprint.

Les US non terminÃ©es :

proposer de :

les remettre dans le backlog (sprintId = null),

OU les basculer vers un nouveau sprint si crÃ©Ã© dans la foulÃ©e (option bonus).

5. Kanban (mode Kanban)

En mode Kanban, pas de sprint.

CrÃ©er une entitÃ© BoardColumn :

id

projectId

name (ex : â€œÃ€ faireâ€, â€œEn coursâ€, â€œReviewâ€, â€œTerminÃ©â€)

order

Les US (et Ã©ventuellement Tasks, si on affiche ce niveau) ont un champ columnId au lieu de state, ou bien state reste, mais on le synchronise avec la colonne.

UI :

Board Kanban classique :

colonnes configurables (crÃ©ation, renommage, suppression, ordre par drag & drop)

cards = US

dÃ©placement par drag & drop entre colonnes â†’ mise Ã  jour de lâ€™Ã©tat.

6. Conversion dâ€™un projet existant

Lorsque lâ€™utilisateur choisit â€œProjet existantâ€ :

Endpoint backend qui liste les anciennes tÃ¢ches du projet (suppose un ancien modÃ¨le de tÃ¢ches).

UI de conversion :

table avec les tÃ¢ches existantes,

possibilitÃ© de choisir pour chaque tÃ¢che :

la convertir en User Story,

la convertir en Task rattachÃ©e Ã  une nouvelle User Story ou Ã  une existante.

bouton rapide : â€œTout convertir en User Stories dans le backlog (sans Epic, sans sprint)â€.

ImplÃ©mentation :

CrÃ©er un endpoint ex : POST /api/projects/:projectId/convert-legacy-tasks.

Le frontend enverra une structure de mapping (id ancienne tÃ¢che â†’ type cible + liens).

7. RÃ©trospective de sprint

Pour chaque sprint, on veut une rÃ©trospective avec 3 colonnes :

â€œCe qui sâ€™est bien passÃ©â€

â€œCe qui sâ€™est mal passÃ©â€

â€œÃ€ amÃ©liorerâ€

7.1. ModÃ¨le

Table Retro :

id

sprintId

createdAt

Table RetroCard :

id

retroId

column: WENT_WELL | WENT_BAD | TO_IMPROVE

content (texte)

authorId (optionnel)

createdAt

Ã€ la clÃ´ture dâ€™un sprint, crÃ©er automatiquement une Retro associÃ©e.

7.2. UI

Onglet â€œRÃ©troâ€ visible sur la page du sprint.

Trois colonnes, type mini-Kanban :

Bouton â€œ+ Ajouter une carteâ€ dans chaque colonne.

Une carte contient juste un texte (multiligne).

Bonus : bouton pour exporter la rÃ©tro en Markdown/JSON.

8. ModÃ¨le de donnÃ©es (suggestion SQL)

Tu peux crÃ©er les tables suivantes avec PostgreSQL (nommage indicatif, Ã  adapter Ã  Prisma/Knex) :

projects

epics

user_stories

tasks

checklist_items

sprints

retros

retro_cards

board_columns (pour Kanban)

Exemple minimal de champs (Ã  adapter en schÃ©ma rÃ©el) :

projects :

id (PK)

name

description

mode (KANBAN | SCRUM)

owner_id

created_at

epics :

id

project_id

title

description

priority

state

due_date

created_at

owner_id

user_stories :

id

project_id

epic_id (nullable)

title

description

complexity

priority

estimate_points

state

created_at

due_date

sprint_id (nullable)

owner_id

assignee_id

reporter_id

tasks :

id

project_id

user_story_id

title

description

state

estimate_points

created_at

due_date

assignee_id

reporter_id

checklist_items :

id

user_story_id

label

done (bool)

sprints :

id

project_id

name

start_datetime

end_datetime

status

created_at

retros :

id

sprint_id

created_at

retro_cards :

id

retro_id

column

content

author_id

created_at

board_columns (mode Kanban) :

id

project_id

name

order_index

9. API Ã  implÃ©menter (REST)

Exemples dâ€™endpoints (tu peux adapter les noms exacts) :

GET /api/projects

POST /api/projects

GET /api/projects/:projectId/backlog
â†’ retourne Epics + US + Tasks + Sprints, structurÃ©s.

POST /api/projects/:projectId/epics

POST /api/projects/:projectId/user-stories

POST /api/projects/:projectId/tasks

PATCH /api/user-stories/:id

PATCH /api/tasks/:id

POST /api/projects/:projectId/sprints

PATCH /api/sprints/:id/start

PATCH /api/sprints/:id/close

POST /api/sprints/:id/add-user-stories

POST /api/projects/:projectId/convert-legacy-tasks

GET /api/sprints/:id/retro

POST /api/sprints/:id/retro/cards

PATCH /api/retro-cards/:id

DELETE /api/retro-cards/:id

GET /api/projects/:projectId/kanban

POST /api/projects/:projectId/board-columns

PATCH /api/board-columns/:id

PATCH /api/user-stories/:id/move-column

10. Frontend : vues Ã  crÃ©er

En Vue 3 + TypeScript :

Vue â€œChoix du mode Backlogâ€

2 cartes : Kanban / Scrum.

SÃ©lecteur de projet existant + bouton â€œCrÃ©er un projetâ€.

Vue â€œBacklog Scrumâ€

Panneau gauche : liste des sprints du projet + bouton â€œCrÃ©er un sprintâ€.

Panneau principal :

section â€œBacklogâ€ (US hors sprint),

section â€œSprint en prÃ©parationâ€ / â€œSprint en coursâ€.

Affichage hiÃ©rarchique Epic â†’ US â†’ Tasks.

Drag & drop pour affecter au sprint.

Vue â€œBoard Kanbanâ€

Colonnes dynamiques configurables.

Cartes = US, drag & drop entre colonnes.

Vue â€œDÃ©tail Sprintâ€

En-tÃªte : nom du sprint, dates, statut, boutons â€œDÃ©marrerâ€ / â€œCloreâ€.

Indicateurs (nb tickets / Ã©tat).

Liste des US du sprint (avec Ã©tat, assignee, points, etc.).

Onglet â€œRÃ©troâ€.

Vue â€œRÃ©tro du sprintâ€

3 colonnes avec cartes.

CrÃ©ation / Ã©dition / suppression des cartes.

PrÃ©vois des composants rÃ©utilisables :

EpicCard, UserStoryCard, TaskRow

SprintSummary

RetroColumn, RetroCard

11. QualitÃ© & tests

Ã‰crire quelques tests backend (unitaire ou dâ€™API) pour :

la rÃ¨gle â€œun seul sprint EN_COURS par projetâ€ ;

la clÃ´ture de sprint et la crÃ©ation automatique de la rÃ©tro.

Documenter rapidement dans un README_backlog.md :

modÃ¨le de donnÃ©es,

endpoints,

workflow dâ€™usage.