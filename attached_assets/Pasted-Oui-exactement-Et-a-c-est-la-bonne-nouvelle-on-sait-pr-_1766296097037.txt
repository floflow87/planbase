Oui â€” exactement. Et Ã§a, câ€™est la bonne nouvelle : on sait prÃ©cisÃ©ment quoi refaire.

Sur iOS PWA, tu ne â€œcoloriesâ€ pas la status bar comme sur Android : tu rends la status bar transparente (black-translucent) et tu peins la safe area derriÃ¨re.
Donc si ta safe area nâ€™est plus violette, câ€™est que :
	â€¢	soit viewport-fit=cover a sautÃ©,
	â€¢	soit ton fond violet nâ€™est plus â€œau niveau rootâ€,
	â€¢	soit un wrapper blanc recouvre le haut.

On va le verrouiller proprement.

â¸»

ğŸ¯ PROMPT REPLIT (isolÃ©) â€” Safe Area violette iOS PWA (signature PlanBase)

Tu es lâ€™agent Replit. Sur iOS en mode PWA (ajout Ã  lâ€™Ã©cran dâ€™accueil), la safe area (zone notch/status bar) nâ€™est plus violette alors quâ€™elle lâ€™Ã©tait avant et donnait lâ€™identitÃ© visuelle PlanBase. Je veux restaurer cette safe area violette de maniÃ¨re fiable.

Objectif : en PWA iOS, la zone du haut (safe-area-inset-top) doit Ãªtre violette, mÃªme si le contenu principal reste sur fond blanc.

â¸»

1) Metas iOS indispensables

Dans index.html, garantir :

<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="theme-color" content="#6D28D9" />

Note : viewport-fit=cover est obligatoire pour dessiner derriÃ¨re la safe area.

â¸»

2) ImplÃ©menter une SafeAreaTopBar violette (solution robuste)

CrÃ©er client/src/design-system/primitives/SafeAreaTopBar.tsx :
	â€¢	position: fixed; top: 0; left: 0; right: 0;
	â€¢	height: env(safe-area-inset-top);
	â€¢	background: var(--pb-brand) (violet PlanBase / token)
	â€¢	z-index Ã©levÃ©
	â€¢	pointer-events: none

DÃ©tection â€œmode PWA standaloneâ€ :
	â€¢	window.matchMedia('(display-mode: standalone)').matches
	â€¢	ou (navigator as any).standalone === true (iOS)

Afficher la SafeAreaTopBar uniquement si :
	â€¢	mobile + standalone

â¸»

3) Assurer que rien ne recouvre la safe area

VÃ©rifier le layout global (root wrapper / topbar) :
	â€¢	aucun container blanc ne doit Ãªtre fixed top-0 avec un fond blanc recouvrant la zone notch
	â€¢	si un header est fixed, il doit commencer Ã  top: env(safe-area-inset-top) en mode standalone

Option recommandÃ©e :
	â€¢	ajouter une classe pt-[env(safe-area-inset-top)] sur le layout global uniquement en standalone mobile, afin que le contenu commence sous la safe area violette.

â¸»

4) CritÃ¨res dâ€™acceptation
	â€¢	En iOS PWA : la safe area en haut est violette (signature PlanBase retrouvÃ©e).
	â€¢	En navigateur normal : pas dâ€™effet indÃ©sirable.
	â€¢	Desktop inchangÃ©.
	â€¢	Aucun Ã©lÃ©ment UI nâ€™est masquÃ© sous le notch.

â¸»

5) Test iOS (obligatoire)

AprÃ¨s dÃ©ploiement :
	1.	Supprimer lâ€™app de lâ€™Ã©cran dâ€™accueil
	2.	RÃ©glages â†’ Safari â†’ AvancÃ© â†’ DonnÃ©es de sites â†’ supprimer planbase.io
	3.	RÃ©installer via â€œAjouter Ã  lâ€™Ã©cran dâ€™accueilâ€
VÃ©rifier que la safe area est violette.

â¸»

Si tu veux, je peux aussi te proposer la version encore plus â€œnativeâ€ : safe area violette + header blanc collÃ© dessous, Ã§a fait trÃ¨s app iOS premium.