Tu es lâ€™agent Replit. Le backend + Ã©tat onboarding (table + endpoints + React Query context) est dÃ©jÃ  implÃ©mentÃ©. Il faut maintenant livrer lâ€™expÃ©rience onboarding complÃ¨te V1 pour Planbase :

Objectifs :
	1.	Un parcours guidÃ© non linÃ©aire mais cohÃ©rent, qui fait naviguer lâ€™utilisateur entre modules
	2.	Un avatar en bas Ã  droite avec micro-animations + bulle de dialogue (ton complice, tutoiement, 1Ã¨re personne)
	3.	Un systÃ¨me dâ€™aide/FAQ par module via un bouton â“, disponible aprÃ¨s onboarding (ou pendant)

Contraintes :
	â€¢	Ne pas casser desktop
	â€¢	Mobile first
	â€¢	Respect prefers-reduced-motion
	â€¢	Onboarding non bloquant (skip / plus tard)
	â€¢	PersistÃ© via API onboarding (progress/complete/skip)

â¸»

1) Orchestrateur dâ€™onboarding (state machine)

CrÃ©er une dÃ©finition de steps V1 (ex: client/src/onboarding/steps.ts) :

Chaque step contient :
	â€¢	id
	â€¢	route (ex: /dashboard, /crm, /projects/:id, /notes, /product/backlog, /roadmap, /profitability)
	â€¢	highlightSelector (CSS selector Ã  spotlight)
	â€¢	placement (tooltip position)
	â€¢	copy (texte exact avatar)
	â€¢	ctaPrimaryLabel, ctaSecondaryLabel
	â€¢	onEnter (optionnel : ex sÃ©lectionner un projet par dÃ©faut)
	â€¢	waitFor (fonction qui attend que le selector existe avant dâ€™afficher)

Le flux doit :
	â€¢	naviguer vers route
	â€¢	attendre lâ€™Ã©lÃ©ment highlightSelector
	â€¢	afficher spotlight + bulle avatar
	â€¢	au â€œSuivantâ€ â†’ POST /api/onboarding/progress avec le step suivant
	â€¢	au â€œTerminerâ€ â†’ POST /api/onboarding/complete
	â€¢	au â€œPasserâ€ â†’ POST /api/onboarding/skip

â¸»

2) Textes exacts (avatar, tutoiement, 1Ã¨re personne)

Utiliser exactement ces copies :

Intro

â€œSalut ğŸ‘‹ Je vais tâ€™aider Ã  prendre Planbase en main. Ici, tout est connectÃ© : clients, projets, temps, tÃ¢ches, rentabilitÃ©. On ne va pas tout voir dâ€™un coup â€” je te guide, pas Ã  pas.â€

Dashboard

â€œIci, tu commences toujours par un coup dâ€™Å“il. Tu vois tes principaux KPIs, ce qui avance, ce qui bloque, et ce qui mÃ©rite ton attention aujourdâ€™hui. Chaque chiffre vient de tes projets, de ton temps et de tes tÃ¢ches. Rien nâ€™est isolÃ©.â€

CRM

â€œIci, tu ajoutes tes clients et tu suis ton pipe dâ€™opportunitÃ©s. Tu peux personnaliser les Ã©tapes pour quâ€™elles collent Ã  ta faÃ§on de travailler. Quand une opportunitÃ© devient concrÃ¨te, tu la transformes en projet â€” sans ressaisie.â€

Projet

â€œIci, tout se rejoint. Un projet relie un client, un budget, un pÃ©rimÃ¨tre et un objectif. Ã€ partir dâ€™un projet, tu pilotes le temps, les tÃ¢ches, le backlog et la rentabilitÃ©.â€

Time tracker

â€œIci, tu enregistres chaque temps passÃ© sur un projet. Tu peux le lier Ã  une tÃ¢che, un ticket ou une Ã©tape du cahier des charges. Plus tu saisis ton temps, plus je peux tâ€™aider Ã  anticiper et te proposer des recommandations utiles.â€

TÃ¢ches

â€œIci, tu passes Ã  lâ€™action. Tu ajoutes des tÃ¢ches Ã  un projet, tu les priorises, et tu vois ce qui avance ou bloque. Chaque tÃ¢che peut se relier Ã  ton backlog et Ã  ton temps.â€

Notes

â€œIci, tu poses tout ce que tu as en tÃªte : idÃ©es, dÃ©cisions, comptes rendus. Tu peux organiser tes notes et les regrouper par projet pour garder le contexte au bon endroit.â€

Backlog

â€œIci, tu dÃ©coupes le travail avant de le lancer. Ã‰pics, tickets, sprints : tu structures ton pÃ©rimÃ¨tre pour garder le contrÃ´le. Les tickets peuvent Ãªtre liÃ©s au projet, au temps et aux tÃ¢ches.â€

Roadmap

â€œIci, je te fais prendre de la hauteur. Tu visualises les Ã©tapes, les prioritÃ©s et les dÃ©pendances dans le temps. Ta roadmap peut connecter des Ã©pics, des tickets, des jalons projetâ€¦ ou des blocs libres.â€

RentabilitÃ©

â€œIci, tu vois si tes projets sont vraiment sains. Je croise ton budget, ton temps passÃ© et ton avancement pour tâ€™aider Ã  dÃ©cider : ajuster ton TJM, accÃ©lÃ©rer, ou apprendre pour les prochains projets.â€

Fin

â€œVoilÃ . Tu as une vision claire de comment tout sâ€™imbrique. Je reste lÃ  si tu as besoin dâ€™aide, mais maintenant, câ€™est toi qui pilotes ğŸš€â€

â¸»

3) UI spotlight + navigation
	â€¢	ImplÃ©menter un overlay â€œspotlightâ€ : fond sombre lÃ©ger + focus sur lâ€™Ã©lÃ©ment ciblÃ©
	â€¢	Tooltip/bulle avatar alignÃ©e au spotlight
	â€¢	Boutons : â€œSuivantâ€, â€œPasserâ€, â€œPlus tardâ€
	â€¢	â€œPlus tardâ€ ferme sans skip (ne pas marquer skipped), et propose de relancer depuis Settings
	â€¢	â€œPasserâ€ â†’ skip (ne plus auto-trigger)

â¸»

4) Avatar + micro-animations

CrÃ©er AvatarCompanion fixÃ© en bas Ã  droite :
	â€¢	idle float (CSS keyframes)
	â€¢	bounce Ã  lâ€™apparition
	â€¢	blink lÃ©ger sur success
	â€¢	respect prefers-reduced-motion (pas dâ€™animation)

Lâ€™avatar sert Ã  :
	â€¢	onboarding (spotlight)
	â€¢	aide contextuelle (FAQ)

â¸»

5) Bouton Aide + FAQ par module (post onboarding)

Ajouter un bouton â“ Aide visible sur chaque module (Dashboard, CRM, Project, Backlog, Notes, RentabilitÃ©, Roadmap, Time tracker, Tasks).

Au clic :
	â€¢	ouvrir un Drawer/Modal FAQ
	â€¢	contenu : 1 rÃ©sumÃ© + 3-6 Q/R max + 1 CTA (â€œCrÃ©erâ€¦â€, â€œAjouterâ€¦â€, etc.)
	â€¢	lâ€™avatar apparaÃ®t et affiche une bulle courte : â€œJe te rÃ©ponds ici.â€

Les FAQs peuvent Ãªtre codÃ©es en dur pour V1 dans client/src/help/faqs.ts avec mapping route â†’ contenu.

â¸»

6) CritÃ¨res dâ€™acceptation
	â€¢	Lâ€™onboarding se dÃ©clenche uniquement si completed=false et skipped=false et version match
	â€¢	Navigation automatique entre modules + spotlight stable (attend le DOM)
	â€¢	Progress sauvegardÃ© via API
	â€¢	Complete/Skip/Reset fonctionnels
	â€¢	Avatar visible, animations lÃ©gÃ¨res, non intrusif
	â€¢	Aide/FAQ disponible partout aprÃ¨s onboarding
	â€¢	Mobile UX premium (aucun overlap avec safe areas)