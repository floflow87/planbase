1.1 Rework ‚ÄúConfig‚Äù (source unique)

Aujourd‚Äôhui, certains param√®tres (stages projets, statuts, priorit√©s, couleurs, labels, options de select‚Ä¶) sont d√©clar√©s inline dans des pages (ex: projects.tsx) et valid√©s ailleurs (ex: shared/schema.ts), ce qui provoque duplication et risques d‚Äôincoh√©rence.

üëâ Je veux centraliser ces param√®tres dans un module partag√© consommable par le front et le back :

shared/config/*

exports typ√©s TypeScript

helpers de lookup (color/label/order)

z√©ro duplication : les pages front doivent g√©n√©rer leurs selects/labels/couleurs depuis cette config.

1.2 Rework ‚ÄúDocs‚Äù (Markdown)

Il y a trop de .md √† la racine (ex: DOCUMENTATION.md, SECURITY_MULTI_TENANT.md, DNS-CONFIGURATION-OVH.md, etc.).
Je veux une arborescence docs/ structur√©e, avec un docs/README.md index qui fait office de table des mati√®res.

2) Contraintes fortes

Ne pas casser l‚Äôapp (build + lint + tests si pr√©sents).

Rework progressif, sans refacto massive non n√©cessaire.

Pr√©server les routes, les DB scripts et migrations existantes.

Mettre √† jour tous les imports apr√®s d√©placement des fichiers.

Mettre √† jour les liens internes entre docs (URLs relatives).

Tout nouveau code doit √™tre typ√© et lisible.

3) Rework Config : plan d‚Äôimpl√©mentation
3.1 Cr√©er une arborescence shared/config/

Cr√©er le dossier :

shared/config/
  index.ts
  projectStages.ts
  taskStatuses.ts
  taskPriorities.ts
  billingStatuses.ts   (si d√©j√† existant dans schema.ts, le d√©placer ici)
  timeCategories.ts    (pr√©parer pour tags temps)
  uiTokens.ts          (si besoin pour mapping couleurs)

Convention

Chaque fichier exporte :

un tableau as const avec key, label, order, (optionnel : colorClass / colorToken, isTerminal, etc.)

un type TS d√©riv√© (union de keys)

des helpers :

Exemple attendu :

export const PROJECT_STAGES = [
  { key: "prospection", label: "Prospection", order: 10, colorClass: "bg-yellow-100 border-yellow-200" },
  ...
] as const;

export type ProjectStageKey = typeof PROJECT_STAGES[number]["key"];

export const projectStageByKey = Object.fromEntries(PROJECT_STAGES.map(s => [s.key, s])) as Record<ProjectStageKey, typeof PROJECT_STAGES[number]>;

export function getProjectStageLabel(key: ProjectStageKey) { return projectStageByKey[key].label; }
export function getProjectStageColorClass(key: ProjectStageKey) { return projectStageByKey[key].colorClass; }

3.2 Remplacer le hardcode c√¥t√© client

Rechercher et remplacer les occurrences de :

const stages = [...] dans projects.tsx

tout getStageColor() ou switch similaire

tout <SelectItem value="..."> hardcod√©

‚û°Ô∏è Objectif : g√©n√©rer les options via .map(PROJECT_STAGES).

3.3 Aligner shared/schema.ts

Le sch√©ma de validation ne doit plus red√©clarer les valeurs.
Il doit importer les keys depuis shared/config/*.

Exemples :

un champ stage doit √™tre valid√© via une enum construite depuis PROJECT_STAGES.map(s=>s.key)

idem pour statuts, priorit√©s, billing statuses.

3.4 Ajouter une r√®gle de non-r√©gression (optionnel mais recommand√©)

Mettre en place une convention :

pas de listes ‚Äúoptions‚Äù en dur dans les pages

tout passe par shared/config/

Si ESLint est pr√©sent, ajouter une r√®gle simple (ou au minimum un commentaire dans TECHNICAL_DEBT.md) pour pr√©venir la r√©introduction du hardcode.

4) Rework Docs : nouvelle arborescence

Cr√©er un dossier docs/ et d√©placer/renommer les fichiers Markdown existants depuis la racine.

4.1 Arborescence cible
docs/
  README.md                       # index + table des mati√®res
  getting-started/
    overview.md                   # intro PlanBase, architecture high level
    local-setup.md                # setup local, env vars
    deployment.md                 # Render/Prod, scripts
  architecture/
    backend.md                    # patterns API, auth, multi-tenant
    frontend.md                   # routing, state, patterns UI
    shared.md                     # shared/schema, shared/config, contrats
    database.md                   # supabase, drizzle, RLS, migrations
  security/
    multi-tenant.md               # contenu de SECURITY_MULTI_TENANT.md
    critical-todos.md             # CRITICAL_SECURITY_TODO.md
  operations/
    dns-ovh.md                    # DNS-CONFIGURATION-OVH.md
    storage-setup.md              # STORAGE_SETUP.md
    pdf-export.md                 # PDF_EXPORT_SETUP.md
    render.md                     # RENDER_DEPLOYMENT.md
  product/
    modules.md                    # modules PlanBase (CRM, notes, backlog, reports...)
    kpis-billing-payments.md      # KPIS_BILLING_PAYMENTS.md
  changelog/
    patch-notes.md                # PATCH_NOTES.md
    changelog-session.md          # CHANGELOG_SESSION.md
  technical-debt/
    technical-debt.md             # TECHNICAL_DEBT.md

4.2 R√®gles

Aucun .md √† la racine sauf README.md (et √©ventuellement LICENSE).

Tous les liens cross-doc doivent √™tre mis √† jour.

docs/README.md doit contenir une table des mati√®res cliquable, structur√©e par sections.

4.3 Migration

D√©placer les fichiers existants en conservant leur contenu, puis :

mettre √† jour les titres

standardiser la structure (H1 unique, sections H2/H3)

ajouter en haut de chaque doc :

‚ÄúBut‚Äù

‚ÄúAudience‚Äù

‚ÄúDerni√®re mise √† jour‚Äù

‚ÄúLiens associ√©s‚Äù

5) Livraison attendue

Tous les fichiers shared/config/* cr√©√©s + shared/config/index.ts exportant tout.

Les pages front (projects.tsx + autres pertinentes) ne contiennent plus de listes hardcod√©es d‚Äôoptions.

shared/schema.ts align√© : plus de duplication des options.

docs/ cr√©√© avec l‚Äôarborescence demand√©e, fichiers d√©plac√©s + liens mis √† jour.

Mise √† jour du README.md racine : pointer vers docs/README.md comme entr√©e principale.

V√©rifier que l‚Äôapp compile.

6) Extra bonus (si tu peux sans casser)

Ajouter une page ‚ÄúSettings ‚Üí Config‚Äù plus tard (non obligatoire maintenant), qui sera compatible avec une future migration vers des settings DB JSONB.

Ajouter un petit script scripts/find-hardcoded-options.ts (ou simple grep doc) listant les occurrences de patterns type const stages = [ ou <SelectItem value=.